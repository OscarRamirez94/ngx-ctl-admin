<div class="row" style="position: relative;">
  <div class="col-md-6 col-lg-6 col-xxxl-6" style="position: relative;">
    <nb-card status="primary">
      <nb-card-header>Remision

      </nb-card-header>
      <nb-card-body>
              <!-- grid -->
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                  <mat-form-field>
                    <mat-label>Tipo de Busqueda</mat-label>
                    <input type="text"
                           matTooltip="Despegable"
                           placeholder="Selecciona busqueda"
                           aria-label="Number"
                           matInput
                           [formControl]="typeSearchControl"
                           [matAutocomplete]="autoTypeSearch"
                           >
                    <mat-autocomplete #autoTypeSearch="matAutocomplete"
                    (optionSelected)="optionSelectedTypeSearch($event)"
                    [displayWith]="displayPropertyTypeSearch">
                      <mat-option *ngFor="let option of options" [value]="option">
                        {{option}}
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>
                  </div>
                </div>
                </div>

            <div class="row">
              <div class="col-sm-6">
              <div class="form-group" *ngIf="remisionVisible">

               <mat-form-field class="example-full-width" appearance="legacy" >
                <mat-label>Remision</mat-label>
                <input matInput [formControl]="remisionControl"
                       placeholder="Remision">
                <mat-hint>Ingresa remision!</mat-hint>

              </mat-form-field>
                  </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6" >
                  <div class="form-group" *ngIf="fechaVisible">
                    <mat-form-field class="example-full-width" appearance="legacy" >
                      <mat-label>Fecha</mat-label>
                      <input type="date" matInput [formControl]="fechaControl"
                             placeholder="Remision">
                      <mat-hint>Ingresa Fecha!</mat-hint>

                    </mat-form-field>
                  </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6">
                  <div class="form-group"  *ngIf="loteVisible">
                    <mat-form-field class="example-full-width" appearance="legacy" >
                      <mat-label>Lote</mat-label>
                      <input  matInput [formControl]="loteControl"
                             placeholder="Remision">
                      <mat-hint>Ingresa Lote!</mat-hint>

                    </mat-form-field>
                  </div>
                </div>
            </div>


            <div class="row">
                <div class="col-sm-6" >
                  <div class="form-group" *ngIf="transportLineVisible">
                    <mat-form-field class="example-full-width" appearance="legacy" >
                      <mat-label>Linea de Transporte</mat-label>
                      <input type="text"
                             matTooltip="Despegable"
                             placeholder="Selecciona Linea de transporte"
                             aria-label="Number"
                             matInput
                             [formControl]="transportLineControl"
                             [matAutocomplete]="autoTL"
                             >
                      <mat-autocomplete #autoTL="matAutocomplete"
                      (optionSelected)="optionSelectedTL($event)"
                      [displayWith]="displayPropertyTL">
                        <mat-option *ngFor="let option of transportLines" [value]="option">
                          {{option.name}}
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6" >
                  <div class="form-group" *ngIf="productVisible">
                    <mat-form-field class="example-full-width" appearance="legacy" >
                    <mat-label>Producto</mat-label>
                    <input type="text"
                           matTooltip="Despegable"
                           placeholder="Selecciona Producto"
                           aria-label="Number"
                           matInput
                           [formControl]="productControl"
                           [matAutocomplete]="autoProduct"
                           >
                    <mat-autocomplete #autoProduct="matAutocomplete"
                    (optionSelected)="optionSelectedProduct($event)"
                    [displayWith]="displayPropertyProduct">
                      <mat-option *ngFor="let option of products" [value]="option">
                        {{option.name}}
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>
                  </div>
                </div>
            </div>
            <!-- actions -->

              <mat-dialog-actions align="end">
                <button nbButton  hero shape="semi-round" size="small" status="danger" >Limpiar</button>
                <button nbButton  hero shape="semi-round" size="small" status="primary" (click)="onSubmit()">{{actionBtn}}</button>
              </mat-dialog-actions>

            <!--end actions -->

      </nb-card-body>
    </nb-card>
  </div>
</div>




  <nb-card status="primary">
      <nb-card-header>Pallets Disponibles</nb-card-header>
      <nb-card-body>
        <section *ngIf="selection.selected.length>0">
          <div class="example-button-row">
            <button nbButton  hero shape="semi-round" size="small" status="primary"  (click)="save()" >Agregar {{selection.selected.length}}</button>
          </div>
        </section>
          <section>
              <!-- filter -->
              <mat-form-field appearance="standard">
                  <mat-label>Buscar </mat-label>
                  <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
              </mat-form-field>
              <!-- end filter -->
              <div class="mat-elevation-z8">
                <table mat-table *ngIf="dataSource" [dataSource]="dataSource" matSort (matSortChange)="sortData($event)" >

                  <ng-container matColumnDef="select">
                    <th mat-header-cell *matHeaderCellDef>
                      <mat-checkbox (change)="$event ? toggleAllRows() : null"
                                    [checked]="selection.hasValue() && isAllSelected()"
                                    [indeterminate]="selection.hasValue() && !isAllSelected()"
                                    [aria-label]="checkboxLabel()">
                      </mat-checkbox>
                    </th>
                    <td mat-cell *matCellDef="let row">
                      <mat-checkbox (click)="$event.stopPropagation()"
                                    (change)="$event ? selection.toggle(row) : null"
                                    [checked]="selection.isSelected(row)"
                                    [aria-label]="checkboxLabel(row)">
                      </mat-checkbox>
                    </td>
                  </ng-container>

                  <!-- Name Column -->
                  <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > ID </th>
                    <td mat-cell *matCellDef="let element"> {{element.id}}  </td>
                  </ng-container>
                  <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > PRODUCTO </th>
                    <td mat-cell *matCellDef="let element"> {{element.product.name}}  </td>
                  </ng-container>
                  <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > DATE </th>
                    <td mat-cell *matCellDef="let element"> {{element.checkList.date}}  </td>
                  </ng-container>
                  <ng-container matColumnDef="remision">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > REMISION </th>
                    <td mat-cell *matCellDef="let element"> {{element.checkList.remision}}  </td>
                  </ng-container>
                  <ng-container matColumnDef="transportLine">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > TRANSPORTE </th>
                    <td mat-cell *matCellDef="let element"> {{element.checkList.transportLine.name}}  </td>
                  </ng-container>
                  <ng-container matColumnDef="code">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > CODIGO </th>
                    <td mat-cell *matCellDef="let element"> {{element.product.code}}  </td>
                  </ng-container>
                  <ng-container matColumnDef="ua">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > LINCENCIA</th>
                    <td mat-cell *matCellDef="let element"> {{element.ua}} </td>
                  </ng-container>
                  <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > CANTIDAD </th>
                    <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
                  </ng-container>
                  <ng-container matColumnDef="um">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > UM </th>
                    <td mat-cell *matCellDef="let element"> {{element.um.name}} </td>
                  </ng-container>
                  <ng-container matColumnDef="lote">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header >LOTE</th>
                    <td mat-cell *matCellDef="let element"> {{element.lote}} </td>
                  </ng-container>
                  <ng-container matColumnDef="expiration">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header > CADUCIDAD </th>
                    <td mat-cell *matCellDef="let element"> {{element.expiration}} </td>
                  </ng-container>


                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                  <!-- Row shown when there is no matching data. -->
                  <tr class="mat-row" *matNoDataRow>
                  <td class="mat-cell" colspan="4">No se encontraron coincidencias "{{input.value}}"</td>

                  </tr>
                </table>
              <!--Paginator -->
              <mat-paginator [length]="totalRegistros" [pageSize]="totalPorPagina"
                            [pageIndex]="paginaActual" [pageSizeOptions]="pageSizeOptions"
                            (page)="paginar($event)" aria-label="arialLabel"
                            showFirstLastButtons>
              </mat-paginator>
              <!--End Paginator -->
              </div>
          </section>
      </nb-card-body>
  </nb-card>




